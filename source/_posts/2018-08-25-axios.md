---
title: axios 学习笔记
date: 2018-08-25 23:58:22
tags: 
  - node
  - js
categories: 前端--js
---

新时代的 jquery.ajax，vue-resource 的替代者，基于 Promise 开发，兼容浏览器和node.js，

少年，还在等什么？ 愣着啊，学习干嘛

# vue 中配置 axios

首先还是安装插件：

```
npm i axios
```

在 main.js 中引用 axios

```
import axios from 'axios';

Vue.porototype.$ajax = axios;
```

直接使用时，post 方法无法将参数传往后台，因为默认axios默认使用：Request Payload 传参，而不是我们常用的

```
'application/x-www-form-urlencoded'
```

解决问题方法很多，一种是用新接口 URLSearchParams ，但兼容性差不推荐。

```
var params = new URLSearchParams();
params.append("admin_name", self.form.admin_name)
params.append("admin_passwd", self.form.admin_passwd)
```

另一种用 axios 自家的 qs 模块，不用特意安装，安装 axios 默认依赖了qs 用时直接引入

```
import qs from 'qs';
然后设置 post 默认传输格式是表单
axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';
axios.post('/foo', qs.stringify({ 'bar': 123 }));
```